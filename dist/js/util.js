var util={getToken:function(){return this.getUrlParams("token")},getClassId:function(){return this.getUrlParams("c_id")},getUserId:function(){return this.getUrlParams("u_id")},getGameId:function(){return this.getUrlParams("game_id")},getUrlParams:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},requestPost:function(e){$.ajax({url:e.url,type:"POST",beforeSend:function(t){var n=String(Date.parse(new Date)),r=e.token,a=md5("1.0xingxiaoban"+n+r+JSON.stringify(e.data));t.setRequestHeader("version","1.0"),t.setRequestHeader("key","xingxiaoban"),t.setRequestHeader("time",n),t.setRequestHeader("token",r),t.setRequestHeader("checksign",a)},dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(e.data),success:function(t){e.success(t)},error:function(t){e.error(t)}})},checkUA:function(){var e=navigator.userAgent.toLowerCase();/xingxiaoban/.test(e)||(window.location.href="error.html")}};