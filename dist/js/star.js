var star=function(){this.init()};star.prototype.init=function(){this.r=160*radio,this.width=200*radio,this.height=200*radio,this.x=win_w/2,this.y=win_h/2,this.nowLife=1,this.lifeR=110},star.prototype.draw=function(){ctx.save(),ctx.beginPath(),ctx.fillStyle="rgba(255,255,255,.2)",ctx.strokeStyle="rgba(255,255,255,.2)",ctx.arc(this.x,this.y,this.r,0,2*Math.PI,!1),ctx.stroke(),ctx.closePath(),ctx.fill(),ctx.restore(),ctx.save(),ctx.beginPath(),ctx.lineWidth=20,ctx.strokeStyle="#666",ctx.translate(this.x-this.width/2,this.y-this.height/2);var t=ctx.createPattern(document.getElementById("star"),"no-repeat");ctx.arc(this.width/2,this.height/2,this.lifeR,0,2*Math.PI,!1),ctx.fillStyle=t,ctx.translate(0,0),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.restore(),this.drawLine(this.nowLife,"#ffe687"),this.lose()},star.prototype.drawLine=function(t,i){ctx.save(),ctx.beginPath(),ctx.strokeStyle=i,ctx.lineWidth=22,ctx.lineCap="round",ctx.translate(this.x-this.width/2,this.y-this.height/2),ctx.arc(this.width/2,this.height/2,this.lifeR,0,2*Math.PI*this.nowLife,!1),ctx.translate(0,0),ctx.stroke(),ctx.closePath(),ctx.restore()},star.prototype.lose=function(){0==this.nowLife&&(isPlaying=!1,util.requestPost({url:"http://114.215.119.189:8080/xfans-service/3-6-3",token:token,data:{c_id:c_id,point:people.score,u_id:u_id,game_id:game_id},success:function(t){console.log(t),0==t.code?window.location.replace("game-over.html?token="+token+"&u_id="+u_id+"&c_id="+c_id+"&game_id="+game_id+"&score="+people.score):alert(t.message)}}))};